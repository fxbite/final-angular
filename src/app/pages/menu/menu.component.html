<app-navbar></app-navbar>
<!-- <app-not-found [visible]="!food || !food.length" resetLinkText="Search Again!">
</app-not-found> -->

<div class="container">
    <div class="p-3">
        <app-food-search (event)="search($event)"></app-food-search>
    </div>
    <div class="menu-dishes">
        <div *ngIf="loading | async; else content" class="row">
            <div *ngFor="let item of skeletonResult" class="col-12 col-sm-6 col-md-4 col-lg-3 card-container">
                <p-card>
                    <ng-template pTemplate="header">
                        <p-skeleton width="100%" height="7rem"></p-skeleton>
                        <div class="title">
                            <p-skeleton width="70%" height="1.5rem"></p-skeleton>
                        </div>
                    </ng-template>
                    <p-skeleton width="100%" height="1.5rem" styleClass="mt-4"></p-skeleton>
                    <div class="price">
                        <p-skeleton width="3rem" height="2rem"></p-skeleton>
                    </div>
                    <div class="add-to-cart-skeleton">
                        <p-skeleton width="3rem" height="3rem"></p-skeleton>
                    </div>
                </p-card>
            </div>
        </div>

        <ng-template #content>
            <div class="row">
                <div *ngFor="let item of foodsResult" class="col-12 col-sm-6 col-md-4 col-lg-3 card-container">
                    <p-card header="{{item.name}}">
                        <ng-template pTemplate="header">
                            <img [alt]="item.name" [src]="item.imageUrl" routerLink="/food-detail/{{ item.id }}" />
                        </ng-template>
                        <div class="info-food">
                            <div class="star">
                                <fa-icon [icon]="starIcon"></fa-icon>
                                <span>{{item.stars}}</span>
                            </div>
                            <div class="cook-time">
                                <fa-icon [icon]="timeIcon"></fa-icon>
                                <span>{{item.cookTime}}</span>
                            </div>
                        </div>
                        <div class="price">
                            ${{item.price}}
                        </div>
                        <div class="add-to-cart">
                            <fa-icon [icon]="cartIcon" (click)="addFoodToCart(item)"></fa-icon>
                        </div>
                    </p-card>
                </div>
            </div>
        </ng-template>
    </div>
</div>